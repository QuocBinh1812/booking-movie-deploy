(this["webpackJsonpbooking-movie"]=this["webpackJsonpbooking-movie"]||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(11),o=n.n(c),i=(n(118),n.p,n(119),n(90)),r=n(91),s=n(102),l=n(100),h=n(35),u=n.n(h);var j=n(18),d=n(197),b=n(198),O=n(188),m=n(190),p=n(192),v=n(195),g=n(194),f=n(193),x=n(196),y=n(105),C=n(25),S=n(3),L=Object(O.a)({root:{maxWidth:345},media:{height:140}});function T(e){var t=L();return Object(S.jsxs)(m.a,{className:t.root,children:[Object(S.jsxs)(p.a,{children:[Object(S.jsx)(f.a,{className:t.media,image:e.movie.hinhAnh,title:"Contemplative Reptile"}),Object(S.jsxs)(g.a,{children:[Object(S.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Lizard"}),Object(S.jsx)(y.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"})]})]}),Object(S.jsxs)(v.a,{children:[Object(S.jsx)(x.a,{size:"small",color:"primary",children:"Share"}),Object(S.jsx)(x.a,{size:"small",color:"primary",children:Object(S.jsx)(C.b,{to:"/movie-detail/".concat(e.movie.maPhim),children:"Learn More"})})]})]})}var G=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).renderMovieList=function(){var t=e.props.movieList;return null===t||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(d.a,{item:!0,sm:3,children:Object(S.jsx)(T,{movie:e})},t)}))},e}return Object(r.a)(n,[{key:"render",value:function(){return this.props.isLoading?(console.log("Loading"),Object(S.jsx)(b.a,{})):(console.log("render"),Object(S.jsx)("div",{children:Object(S.jsx)(d.a,{container:!0,children:this.renderMovieList()})}))}},{key:"componentDidMount",value:function(){this.props.dispatch((function(e){e({type:"START_LOADING"}),u.a.get("https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachPhim?maNhom=GP01").then((function(t){console.log(t),e({type:"GET_MOVIE_lIST_SUCCESS",payload:t.data}),setTimeout((function(){e({type:"STOP_LOADING"})}),4e3)})).catch((function(t){console.log(t),e(function(e){return{type:"GET_MOVIE_lIST_FAILED",payload:e}}(t)),e({type:"STOP_LOADING"})}))}))}}]),n}(a.Component),E=Object(j.b)((function(e){return{isLoading:e.common.isLoading,movieList:e.movie.movieList}}))(G),_=n(61),D=n(16),N=n(52),I=n(216),k=n(201),w=n(213),A=n(202),R=n(215),P=n(199),V=n(214),M=n(96),K=n.n(M),B=n(200);var F=n(13);function U(){return Object(S.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(S.jsx)(P.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var H=Object(O.a)((function(e){return{colorRed:{color:"red"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function W(){var e=Object(F.g)(),t=H(),n=Object(j.c)(),c=Object(a.useState)({});console.log(c);var o=Object(N.a)(c,2),i=(o[0],o[1],Object(a.useState)({taiKhoan:"",matKhau:""})),r=Object(N.a)(i,2),s=r[0],l=r[1];function h(e){var t=e.target,n=t.name,a=t.value;l(Object(D.a)(Object(D.a)({},s),{},Object(_.a)({},n,a)))}return console.log("user : ",s),Object(S.jsxs)(B.a,{component:"main",maxWidth:"xs",children:[Object(S.jsx)(k.a,{}),Object(S.jsxs)("div",{className:t.paper,children:[Object(S.jsx)(I.a,{className:t.avatar,children:Object(S.jsx)(K.a,{})}),Object(S.jsx)(y.a,{component:"h1",variant:"h5",className:t.colorRed,children:"Sign in"}),Object(S.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault(),console.log(s),n(function(e,t){return function(n){n({type:"START_LOADING"}),u.a.post("https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangNhap",e).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e.data)),t.push("/home"),n({type:"STOP_LOADING"})})).catch((function(e){console.log(e),n({type:"STOP_LOADING"})}))}}(s,e))},children:[Object(S.jsx)(w.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"taiKhoan",label:"taiKhoan",name:"taiKhoan",autoComplete:"taiKhoan",autoFocus:!0,onChange:h}),Object(S.jsx)(w.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"matKhau",label:"matKhau",type:"password",id:"matKhau",autoComplete:"current-password",onChange:h}),Object(S.jsx)(A.a,{control:Object(S.jsx)(R.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(S.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(S.jsxs)(d.a,{container:!0,children:[Object(S.jsx)(d.a,{item:!0,xs:!0,children:Object(S.jsx)(P.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(S.jsx)(d.a,{item:!0,children:Object(S.jsx)(P.a,{href:"#",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(S.jsx)(V.a,{mt:8,children:Object(S.jsx)(U,{})})]})}var z=n(204),Q=n(205),J=n(206),q=n(207),X=n(208),Y=n(209),Z=n(69),$=n.n(Z),ee=Object(O.a)((function(e){return{btnBooking:{backgroundColor:e.palette.newColor,"&:hover":{backgroundColor:e.palette.newColor}}}})),te=function(){var e=ee(),t=Object(F.g)(),n=Object(j.d)((function(e){var t;return null===(t=e.movie.movieInfo)||void 0===t?void 0:t.lichChieu}));return console.log(n),Object(S.jsx)("div",{children:Object(S.jsx)(J.a,{children:Object(S.jsxs)(q.a,{children:[Object(S.jsx)(X.a,{children:Object(S.jsxs)(z.a,{children:[Object(S.jsx)(Q.a,{children:"T\xean H\u1ec7 Th\u1ed1ng R\u1ea1p"}),Object(S.jsx)(Q.a,{children:"T\xean C\u1ee5m R\u1ea1p"}),Object(S.jsx)(Q.a,{children:"Ng\xe0y Chi\u1ebfu"}),Object(S.jsx)(Q.a,{children:"Gi\u1edd chi\u1ebfu"}),Object(S.jsx)(Q.a,{children:"\u0110\u1eb7t V\xe9"})]})}),Object(S.jsx)(Y.a,{children:null===n||void 0===n?void 0:n.map((function(n,a){return Object(S.jsxs)(z.a,{children:[Object(S.jsx)(Q.a,{children:n.thongTinRap.tenHeThongRap}),Object(S.jsx)(Q.a,{children:n.thongTinRap.tenCumRap}),Object(S.jsx)(Q.a,{children:$()("dd-MM-yy",new Date(n.ngayChieuGioChieu))}),Object(S.jsx)(Q.a,{children:$()("hh:mm",new Date(n.ngayChieuGioChieu))}),Object(S.jsx)(Q.a,{children:Object(S.jsx)(x.a,{color:"primary",variant:"contained",className:e.btnBooking,onClick:function(){t.push("/booking/".concat(n.maLichChieu))},children:"\u0111\u1eb7t v\xe9"})})]},a)}))})]})})})},ne=function(){var e=Object(j.c)(),t=Object(a.useState)(0),n=Object(N.a)(t,2),c=n[0],o=n[1],i=Object(F.h)().movieCode;return Object(a.useEffect)((function(){return console.log("useEffect"),function(){}})),Object(a.useEffect)((function(){return console.log("useEffect ch\u1ea1y m\u1ed9t l\u1ea7n duy nh\u1ea5t"),e(function(e){return function(t){u.a.get("https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayThongTinPhim?MaPhim=".concat(e)).then((function(e){console.log(e),t({type:"GET_MOVIE_DETAIL_SUCCESS",payload:e.data})})).catch((function(e){console.log(e),t({type:"GET_MOVIE_DETAIL_FAILED",payload:e})}))}}(i)),function(){}}),[]),Object(a.useEffect)((function(){return console.log("useEffect ch\u1ea1y khi star thay \u0111\u1ed5i"),function(){}}),[c]),Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{children:c}),Object(S.jsx)("button",{onClick:function(){o(c+1)},children:"t\u0103ng sao"}),Object(S.jsx)(te,{})]})},ae=n(53),ce=n.n(ae),oe=n(70);function ie(e){return{type:"GET_BOOKING_SUCCESS",payload:e}}var re=Object(O.a)((function(){return{chuaDat:{backgroundColor:"red","&:hover":{backgroundColor:"red"}},daDat:{backgroundColor:"blue","&:hover":{backgroundColor:"blue"}},dangChon:{backgroundColor:"yellow","&:hover":{backgroundColor:"yellow"}}}})),se=function(){var e=Object(F.h)().maLichChieu,t=Object(j.c)(),n=re(),c=Object(j.d)((function(e){return e.booking.danhSachGhe}));return console.log("danhSachGhe: ",c),Object(a.useEffect)((function(){t(function(e){return function(){var t=Object(oe.a)(ce.a.mark((function t(n){var a;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=".concat(e));case 3:a=t.sent,console.log("res :",a),200!==a.status&&201!==a.status||n(ie(a.data)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),n({type:"GET_BOOKING_Failed",payload:t.t0});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]),Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:"booking"}),Object(S.jsx)("div",{children:c.map((function(e,a){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(x.a,{className:(c=e.daDat,o=e.dangChon,c?n.daDat:o?n.dangChon:n.chuaDat),onClick:function(){t({type:"CHON_GHE",payload:e})},children:e.stt},a)});var c,o}))}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{variant:"containeid",color:"secondary",onClick:function(){var n=c.filter((function(e){return e.dangChon}));n=n.map((function(e){return{maGhe:e.maGhe,giaVe:e.giaVe}})),t(function(e,t){return function(){var n=Object(oe.a)(ce.a.mark((function n(a){var c,o;return ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=JSON.parse(localStorage.getItem("user")),n.next=4,u()({method:"POST",url:"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe",data:{maLichChieu:e,danhSachVe:t,taiKhoanNguoiDung:c.taiKhoan},headers:{Authorization:"Bearer ".concat(c.accessToken)}});case 4:200!==(o=n.sent).status&&201!==o.status||alert("thanh cong"),n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,n))},children:"Dat ve"})})]})},le=n(210),he=n(211),ue=n(203),je=n(97),de=n.n(je),be=Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},activeRoute:{backgroundColor:e.palette.newColor}}}));function Oe(){var e=be();return Object(S.jsx)("div",{className:e.root,children:Object(S.jsx)(le.a,{position:"static",children:Object(S.jsxs)(he.a,{children:[Object(S.jsx)(ue.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(S.jsx)(de.a,{})}),Object(S.jsx)(y.a,{variant:"h6",className:e.title,children:Object(S.jsx)(C.b,{activeClassName:e.activeRoute,exact:!0,to:"/",children:"Home"})}),Object(S.jsx)(y.a,{variant:"h6",className:e.title,children:Object(S.jsx)(C.b,{activeClassName:e.activeRoute,to:"/sign-in",children:"Login"})})]})})})}var me=function(){return Object(S.jsx)("div",{children:Object(S.jsxs)(C.a,{children:[Object(S.jsx)(Oe,{}),Object(S.jsxs)(F.d,{children:[Object(S.jsx)(F.b,{path:"/",exact:!0,children:Object(S.jsx)(E,{})}),Object(S.jsx)(F.b,{path:"/sign-in",children:Object(S.jsx)(W,{})}),Object(S.jsx)(F.b,{path:"/movie-detail/:movieCode",children:Object(S.jsx)(ne,{})}),Object(S.jsx)(F.b,{path:"/booking/:maLichChieu",children:Object(S.jsx)(se,{})}),Object(S.jsx)(F.b,{path:"/home",children:Object(S.jsx)(F.a,{to:"/"})})]})]})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,218)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))},ve=n(47),ge={movieList:null,movieInfo:null},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GET_MOVIE_lIST_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{movieList:a});case"GET_MOVIE_DETAIL_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{movieInfo:a});default:return e}},xe={isLoading:!1},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case"START_LOADING":return Object(D.a)(Object(D.a)({},e),{},{isLoading:!0});case"STOP_LOADING":return Object(D.a)(Object(D.a)({},e),{},{isLoading:!1});default:return e}},Ce=n(101),Se={danhSachGhe:[]};var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GET_BOOKING_SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{danhSachGhe:a.danhSachGhe});case"CHON_GHE":var c=e.danhSachGhe.findIndex((function(e){return e.maGhe===a.maGhe})),o=e.danhSachGhe[c],i=Object(D.a)(Object(D.a)({},o),{},{dangChon:!o.dangChon});e.danhSachGhe[c]=i;var r=Object(Ce.a)(e.danhSachGhe);return Object(D.a)(Object(D.a)({},e),{},{danhSachGhe:r});default:return e}},Te=Object(ve.b)({movie:fe,common:ye,booking:Le}),Ge=n(98),Ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.c,_e=Object(ve.d)(Te,Ee(Object(ve.a)(Ge.a))),De=n(212),Ne=n(99),Ie=Object(Ne.a)({palette:{primary:{light:"#ea515a",main:"#e5101d",dark:"#fb000f"},newColor:"yellow"}});o.a.render(Object(S.jsx)(j.a,{store:_e,children:Object(S.jsx)(De.a,{theme:Ie,children:Object(S.jsx)(me,{})})}),document.getElementById("root")),pe()}},[[147,1,2]]]);
//# sourceMappingURL=main.49bba2a3.chunk.js.map